# コスト最適化 (Cost Optimization)

| 質問                                                             | 質問の意図                                                                                                                                  | ご回答 |
| ---------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------- | ------ |
| 毎月の予算を設定していますか？                                   | コストの上限を意識したアーキテクチャを設計する。また、コストアラートを送信する際の基準となる。                                              |        |
| 月中の予算進捗を確認する方法はありますか？                       | 予算を超過しないようにするためには、進捗を確認する必要がある。例えば、予算の nn% 消費時にアラートするなど。<br />AWS Budgets Actions で予算超過時に自動アクション（EC2/RDS 停止等）を設定できる。<br />Cost Anomaly Detection でコストの異常を自動検知できる。                                 |        |
| 毎月のコスト内訳はどの程度の詳細度が必要ですか？                 | 請求額だけ分かればよい、サービスごとの料金が知りたい、さらに細かくリクエストごとの料金が知りたいなど。<br />細かく知る場合は AWS Data Exports（CUR 2.0）を出力し Athena で分析する。<br />Cost Optimization Hub で組織全体のコスト最適化推奨事項を一元確認できる。<br />Cost Efficiency メトリクスで最適化進捗を継続追跡できる。<br />Amazon Q Developer による自然言語での対話的コスト分析も可能。 |        |
| システムの重要度に合わせたコストバランスを定義していますか？     | 重要度が高いシステムはコストより機能を優先する、低いシステムはコスト重視で設計する。                                                        |        |
| サービスが収益をあげていることを示すインジケーターはありますか？ | EC サイトであれば注文数など収益を示すインジケーターが増加すると、コストがどのように増加するかを把握する。                                   |        |
| 定期的はコスト見直しスケジュールはありますか？                   | コストは定期的に見直し削減する。                                                                                                            |        |
| 請求単位で AWS アカウントを分割していますか？                    | 社内のコスト按分を厳密に行う場合は、按分する組織/プロジェクトごとに AWS アカウントを分割する。厳密ではないがタグによる分割も可能。          |        |
| アプリケーションログやデータ保持期間は定義されていますか？       | データ保持期間を定義することで、不要なデータを削除しコストを削減することができる。                                                          |        |
| リソースの需要は予測可能でしょうか？                             | 需要が予測可能な場合は、予測に合わせてリソースを増減することでコストを削減できる。また、開発環境は夜間停止するなどの削減方法もある。        |        |
| コスト配分タグの付与ルールは定義されていますか？ | AWS リソースにタグを付与することで、プロジェクト・チーム・環境ごとにコストを可視化できる。<br />Organizations のタグポリシーでタグ付けルールを強制できる。 |        |
| コンピューティングリソースの購入方針は定義されていますか？<br />（オンデマンド / Reserved Instances / Savings Plans / Spot） | 安定した負荷には Savings Plans や RI で最大72%のコスト削減が可能。<br />バッチ処理や開発環境には Spot インスタンスで最大90%削減が可能。<br />Compute Savings Plans はインスタンスファミリーに依存しない柔軟な割引を提供する。 |        |
| FinOps（クラウドコスト管理）の体制やプロセスは整備されていますか？ | コスト最適化を継続的に実施するための体制・プロセス・ツールを整備する。<br />定期的なコストレビュー会議、責任者の明確化、コスト意識の文化醸成が重要。<br />IAM Identity Center のユーザー属性ベースのコスト配分で自動タグ付けが可能。 |        |
| コンテナワークロード（EKS/ECS）のコスト配分方法は定義されていますか？ | Split Cost Allocation Data for Amazon EKS でコンテナレベルの CPU・メモリ・GPU/Trainium/Inferentia 使用量に基づくコスト配分が可能。<br />Kubernetes ラベルをコスト配分タグとしてインポート（最大 50 ラベル/Pod）し、アプリケーション・チーム単位でコストを可視化できる。<br />共有 EC2 インスタンス上の複数コンテナのコストを正確に按分する。 |        |
